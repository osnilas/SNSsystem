<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1574px" preserveAspectRatio="none" style="width:2164px;height:1574px;" version="1.1" viewBox="0 0 2164 1574" width="2164px" zoomAndPan="magnify"><defs><filter height="300%" id="f129hktixn9cpb" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f129hktixn9cpb)" height="1340.9063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="79.5" y="114.9766"/><rect fill="#FFFFFF" filter="url(#f129hktixn9cpb)" height="222.7949" style="stroke:#A80036;stroke-width:1.0;" width="10" x="490.5" y="136.2871"/><rect fill="#FFFFFF" filter="url(#f129hktixn9cpb)" height="281.416" style="stroke:#A80036;stroke-width:1.0;" width="10" x="490.5" y="388.3926"/><rect fill="#FFFFFF" filter="url(#f129hktixn9cpb)" height="92.9316" style="stroke:#A80036;stroke-width:1.0;" width="10" x="490.5" y="699.1191"/><rect fill="#FFFFFF" filter="url(#f129hktixn9cpb)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="490.5" y="821.3613"/><rect fill="#FFFFFF" filter="url(#f129hktixn9cpb)" height="217.1738" style="stroke:#A80036;stroke-width:1.0;" width="10" x="490.5" y="879.9824"/><rect fill="#FFFFFF" filter="url(#f129hktixn9cpb)" height="146.5527" style="stroke:#A80036;stroke-width:1.0;" width="10" x="490.5" y="1133.4668"/><rect fill="#FFFFFF" filter="url(#f129hktixn9cpb)" height="146.5527" style="stroke:#A80036;stroke-width:1.0;" width="10" x="490.5" y="1309.3301"/><rect fill="#FFFFFF" filter="url(#f129hktixn9cpb)" height="148.8633" style="stroke:#A80036;stroke-width:1.0;" width="10" x="821.5" y="165.5977"/><rect fill="#FFFFFF" filter="url(#f129hktixn9cpb)" height="192.1738" style="stroke:#A80036;stroke-width:1.0;" width="10" x="821.5" y="417.7031"/><rect fill="#FFFFFF" filter="url(#f129hktixn9cpb)" height="158.5527" style="stroke:#A80036;stroke-width:1.0;" width="10" x="821.5" y="909.293"/><rect fill="#FFFFFF" filter="url(#f129hktixn9cpb)" height="87.9316" style="stroke:#A80036;stroke-width:1.0;" width="10" x="821.5" y="1162.7773"/><rect fill="#FFFFFF" filter="url(#f129hktixn9cpb)" height="87.9316" style="stroke:#A80036;stroke-width:1.0;" width="10" x="821.5" y="1338.6406"/><rect fill="#FFFFFF" filter="url(#f129hktixn9cpb)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="954.5" y="255.8398"/><rect fill="#FFFFFF" filter="url(#f129hktixn9cpb)" height="74.9316" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1155.5" y="447.0137"/><rect fill="#FFFFFF" filter="url(#f129hktixn9cpb)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1155.5" y="1367.9512"/><rect fill="#FFFFFF" filter="url(#f129hktixn9cpb)" height="99.9316" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1373.5" y="938.6035"/><rect fill="#FFFFFF" filter="url(#f129hktixn9cpb)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1683.5" y="551.2559"/><rect fill="#FFFFFF" filter="url(#f129hktixn9cpb)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1683.5" y="1192.0879"/><rect fill="#FFFFFF" filter="url(#f129hktixn9cpb)" height="351.7266" style="stroke:#000000;stroke-width:2.0;" width="1420.5" x="10" y="753.4297"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="84" x2="84" y1="104.9766" y2="1473.8828"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="495" x2="495" y1="104.9766" y2="1473.8828"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="826.5" x2="826.5" y1="104.9766" y2="1473.8828"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="959" x2="959" y1="104.9766" y2="1473.8828"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1160.5" x2="1160.5" y1="104.9766" y2="1473.8828"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1378.5" x2="1378.5" y1="104.9766" y2="1473.8828"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1688.5" x2="1688.5" y1="104.9766" y2="1473.8828"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1848.5" x2="1848.5" y1="104.9766" y2="1473.8828"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2039.5" x2="2039.5" y1="104.9766" y2="1473.8828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="20" y="85.5352">Clinical Chemistry</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="37" y="102.0234">Technologist</text><ellipse cx="84.5" cy="15" fill="#FEFECE" filter="url(#f129hktixn9cpb)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M84.5,23 L84.5,50 M71.5,31 L97.5,31 M84.5,50 L71.5,65 M84.5,50 L97.5,65 " fill="none" filter="url(#f129hktixn9cpb)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="20" y="1486.418">Clinical Chemistry</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="37" y="1502.9063">Technologist</text><ellipse cx="84.5" cy="1515.8594" fill="#FEFECE" filter="url(#f129hktixn9cpb)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M84.5,1523.8594 L84.5,1550.8594 M71.5,1531.8594 L97.5,1531.8594 M84.5,1550.8594 L71.5,1565.8594 M84.5,1550.8594 L97.5,1565.8594 " fill="none" filter="url(#f129hktixn9cpb)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f129hktixn9cpb)" height="46.9766" style="stroke:#A80036;stroke-width:1.5;" width="99" x="444" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="451" y="73.5352">: RecordTest</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="465.5" y="90.0234">ResultUI</text><rect fill="#FEFECE" filter="url(#f129hktixn9cpb)" height="46.9766" style="stroke:#A80036;stroke-width:1.5;" width="99" x="444" y="1472.8828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="451" y="1493.418">: RecordTest</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="465.5" y="1509.9063">ResultUI</text><rect fill="#FEFECE" filter="url(#f129hktixn9cpb)" height="46.9766" style="stroke:#A80036;stroke-width:1.5;" width="126" x="761.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="782" y="73.5352">: RecordTest</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="768.5" y="90.0234">ResultController</text><rect fill="#FEFECE" filter="url(#f129hktixn9cpb)" height="46.9766" style="stroke:#A80036;stroke-width:1.5;" width="126" x="761.5" y="1472.8828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="782" y="1493.418">: RecordTest</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="768.5" y="1509.9063">ResultController</text><rect fill="#FEFECE" filter="url(#f129hktixn9cpb)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="91" x="912" y="69.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="923" y="90.0234">: Company</text><rect fill="#FEFECE" filter="url(#f129hktixn9cpb)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="91" x="912" y="1472.8828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="923" y="1493.418">: Company</text><rect fill="#FEFECE" filter="url(#f129hktixn9cpb)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="132" x="1092.5" y="69.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="1099.5" y="90.0234">tStore : TestStore</text><rect fill="#FEFECE" filter="url(#f129hktixn9cpb)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="132" x="1092.5" y="1472.8828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="1099.5" y="1493.418">tStore : TestStore</text><rect fill="#FEFECE" filter="url(#f129hktixn9cpb)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="80" x="1336.5" y="69.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="1343.5" y="90.0234">test : Test</text><rect fill="#FEFECE" filter="url(#f129hktixn9cpb)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="80" x="1336.5" y="1472.8828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="1343.5" y="1493.418">test : Test</text><rect fill="#FEFECE" filter="url(#f129hktixn9cpb)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="164" x="1604.5" y="69.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150" x="1611.5" y="90.0234">tMapper : TestMapper</text><rect fill="#FEFECE" filter="url(#f129hktixn9cpb)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="164" x="1604.5" y="1472.8828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150" x="1611.5" y="1493.418">tMapper : TestMapper</text><rect fill="#FEFECE" filter="url(#f129hktixn9cpb)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="128" x="1782.5" y="69.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="1789.5" y="90.0234">testDto : TestDto</text><rect fill="#FEFECE" filter="url(#f129hktixn9cpb)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="128" x="1782.5" y="1472.8828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="1789.5" y="1493.418">testDto : TestDto</text><rect fill="#FEFECE" filter="url(#f129hktixn9cpb)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="226" x="1924.5" y="69.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="212" x="1931.5" y="90.0234">testResultsDto : TestResultsDto</text><rect fill="#FEFECE" filter="url(#f129hktixn9cpb)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="226" x="1924.5" y="1472.8828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="212" x="1931.5" y="1493.418">testResultsDto : TestResultsDto</text><rect fill="#FFFFFF" filter="url(#f129hktixn9cpb)" height="1340.9063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="79.5" y="114.9766"/><rect fill="#FFFFFF" filter="url(#f129hktixn9cpb)" height="222.7949" style="stroke:#A80036;stroke-width:1.0;" width="10" x="490.5" y="136.2871"/><rect fill="#FFFFFF" filter="url(#f129hktixn9cpb)" height="281.416" style="stroke:#A80036;stroke-width:1.0;" width="10" x="490.5" y="388.3926"/><rect fill="#FFFFFF" filter="url(#f129hktixn9cpb)" height="92.9316" style="stroke:#A80036;stroke-width:1.0;" width="10" x="490.5" y="699.1191"/><rect fill="#FFFFFF" filter="url(#f129hktixn9cpb)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="490.5" y="821.3613"/><rect fill="#FFFFFF" filter="url(#f129hktixn9cpb)" height="217.1738" style="stroke:#A80036;stroke-width:1.0;" width="10" x="490.5" y="879.9824"/><rect fill="#FFFFFF" filter="url(#f129hktixn9cpb)" height="146.5527" style="stroke:#A80036;stroke-width:1.0;" width="10" x="490.5" y="1133.4668"/><rect fill="#FFFFFF" filter="url(#f129hktixn9cpb)" height="146.5527" style="stroke:#A80036;stroke-width:1.0;" width="10" x="490.5" y="1309.3301"/><rect fill="#FFFFFF" filter="url(#f129hktixn9cpb)" height="148.8633" style="stroke:#A80036;stroke-width:1.0;" width="10" x="821.5" y="165.5977"/><rect fill="#FFFFFF" filter="url(#f129hktixn9cpb)" height="192.1738" style="stroke:#A80036;stroke-width:1.0;" width="10" x="821.5" y="417.7031"/><rect fill="#FFFFFF" filter="url(#f129hktixn9cpb)" height="158.5527" style="stroke:#A80036;stroke-width:1.0;" width="10" x="821.5" y="909.293"/><rect fill="#FFFFFF" filter="url(#f129hktixn9cpb)" height="87.9316" style="stroke:#A80036;stroke-width:1.0;" width="10" x="821.5" y="1162.7773"/><rect fill="#FFFFFF" filter="url(#f129hktixn9cpb)" height="87.9316" style="stroke:#A80036;stroke-width:1.0;" width="10" x="821.5" y="1338.6406"/><rect fill="#FFFFFF" filter="url(#f129hktixn9cpb)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="954.5" y="255.8398"/><rect fill="#FFFFFF" filter="url(#f129hktixn9cpb)" height="74.9316" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1155.5" y="447.0137"/><rect fill="#FFFFFF" filter="url(#f129hktixn9cpb)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1155.5" y="1367.9512"/><rect fill="#FFFFFF" filter="url(#f129hktixn9cpb)" height="99.9316" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1373.5" y="938.6035"/><rect fill="#FFFFFF" filter="url(#f129hktixn9cpb)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1683.5" y="551.2559"/><rect fill="#FFFFFF" filter="url(#f129hktixn9cpb)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1683.5" y="1192.0879"/><polygon fill="#A80036" points="478.5,132.2871,488.5,136.2871,478.5,140.2871,482.5,136.2871" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="89.5" x2="484.5" y1="136.2871" y2="136.2871"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="96.5" y="131.5449">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="109.5" y="131.5449">starts recording result for a test</text><polygon fill="#A80036" points="809.5,161.5977,819.5,165.5977,809.5,169.5977,813.5,165.5977" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="500.5" x2="815.5" y1="165.5977" y2="165.5977"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="507.5" y="160.8555">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="520.5" y="160.8555">startsRecordingTestResults()</text><rect fill="#FFFFFF" filter="url(#f129hktixn9cpb)" height="55.9316" style="stroke:#000000;stroke-width:2.0;" width="255" x="758.5" y="173.5977"/><polygon fill="#EEEEEE" points="758.5,173.5977,822.5,173.5977,822.5,180.5977,812.5,190.5977,758.5,190.5977,758.5,173.5977" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="771.5" y="188.166">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="247" x="764.5" y="207.166">SD_GET_EMPLOYEE_OF_CURRENT_USER</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="764.5" y="222.4766">(Controller gets an</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="66" x="885.5" y="222.4766">employee</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="955.5" y="222.4766">object)</text><polygon fill="#A80036" points="942.5,251.8398,952.5,255.8398,942.5,259.8398,946.5,255.8398" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="831.5" x2="948.5" y1="255.8398" y2="255.8398"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="838.5" y="251.0977">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87" x="851.5" y="251.0977">getTestStore()</text><polygon fill="#A80036" points="842.5,281.1504,832.5,285.1504,842.5,289.1504,838.5,285.1504" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="836.5" x2="958.5" y1="285.1504" y2="285.1504"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="848.5" y="280.4082">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37" x="861.5" y="280.4082">tStore</text><polygon fill="#A80036" points="511.5,310.4609,501.5,314.4609,511.5,318.4609,507.5,314.4609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="505.5" x2="825.5" y1="314.4609" y2="314.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="517.5" y="309.7188">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="16" x="530.5" y="309.7188">ok</text><polygon fill="#A80036" points="100.5,355.082,90.5,359.082,100.5,363.082,96.5,359.082" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="94.5" x2="494.5" y1="359.082" y2="359.082"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="106.5" y="346.6846">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="119.5" y="339.0293">asks to type/read the barcode</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198" x="119.5" y="354.3398">of any sample of the target test</text><polygon fill="#A80036" points="478.5,384.3926,488.5,388.3926,478.5,392.3926,482.5,388.3926" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="89.5" x2="484.5" y1="388.3926" y2="388.3926"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="96.5" y="383.6504">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="109.5" y="383.6504">types/read the barcode</text><polygon fill="#A80036" points="809.5,413.7031,819.5,417.7031,809.5,421.7031,813.5,417.7031" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="500.5" x2="815.5" y1="417.7031" y2="417.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="507.5" y="412.9609">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="520.5" y="412.9609">getTestByBarcode(barcode)</text><polygon fill="#A80036" points="1143.5,443.0137,1153.5,447.0137,1143.5,451.0137,1147.5,447.0137" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="831.5" x2="1149.5" y1="447.0137" y2="447.0137"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="838.5" y="442.2715">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="292" x="851.5" y="442.2715">getTestByBarcodeWithPendingResults(barcode)</text><rect fill="#FFFFFF" filter="url(#f129hktixn9cpb)" height="40.6211" style="stroke:#000000;stroke-width:2.0;" width="346" x="1089.5" y="455.0137"/><polygon fill="#EEEEEE" points="1089.5,455.0137,1153.5,455.0137,1153.5,462.0137,1143.5,472.0137,1089.5,472.0137,1089.5,455.0137" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="1102.5" y="469.582">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="338" x="1095.5" y="488.582">SD_GET_TEST_BY_BARCODE_WITH_PENDING_RESULTS</text><polygon fill="#A80036" points="842.5,517.9453,832.5,521.9453,842.5,525.9453,838.5,521.9453" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="836.5" x2="1159.5" y1="521.9453" y2="521.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="848.5" y="517.2031">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="870.5" y="517.2031">test</text><polygon fill="#A80036" points="1671.5,547.2559,1681.5,551.2559,1671.5,555.2559,1675.5,551.2559" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="831.5" x2="1677.5" y1="551.2559" y2="551.2559"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="838.5" y="546.5137">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="860.5" y="546.5137">toDto(test)</text><polygon fill="#A80036" points="842.5,576.5664,832.5,580.5664,842.5,584.5664,838.5,580.5664" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="836.5" x2="1687.5" y1="580.5664" y2="580.5664"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="848.5" y="575.8242">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="870.5" y="575.8242">testDto</text><polygon fill="#A80036" points="511.5,605.877,501.5,609.877,511.5,613.877,507.5,609.877" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="505.5" x2="825.5" y1="609.877" y2="609.877"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="517.5" y="605.1348">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="539.5" y="605.1348">testDto</text><polygon fill="#A80036" points="100.5,665.8086,90.5,669.8086,100.5,673.8086,96.5,669.8086" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="94.5" x2="494.5" y1="669.8086" y2="669.8086"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="106.5" y="649.7559">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204" x="128.5" y="634.4453">shows the test corresponding to</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="128.5" y="649.7559">the inputted barcode/sample</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212" x="132.5" y="665.0664">and asks confirmation to proceed</text><polygon fill="#A80036" points="478.5,695.1191,488.5,699.1191,478.5,703.1191,482.5,699.1191" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="89.5" x2="484.5" y1="699.1191" y2="699.1191"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="96.5" y="694.377">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="118.5" y="694.377">want to proceed</text><path d="M505,712.1191 L505,737.1191 L803,737.1191 L803,722.1191 L793,712.1191 L505,712.1191 " fill="#FBFB77" filter="url(#f129hktixn9cpb)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M793,712.1191 L793,722.1191 L803,722.1191 L793,712.1191 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="277" x="511" y="729.6875">information already available on the testDto</text><path d="M10,753.4297 L84,753.4297 L84,760.4297 L74,770.4297 L10,770.4297 L10,753.4297 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="351.7266" style="stroke:#000000;stroke-width:2.0;" width="1420.5" x="10" y="753.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29" x="25" y="766.998">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="225" x="99" y="766.0645">[for each test parameter being analysed]</text><polygon fill="#A80036" points="100.5,788.0508,90.5,792.0508,100.5,796.0508,96.5,792.0508" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="94.5" x2="494.5" y1="792.0508" y2="792.0508"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="106.5" y="787.3086">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="294" x="128.5" y="787.3086">shows the tests parameters with no results yet</text><polygon fill="#A80036" points="478.5,817.3613,488.5,821.3613,478.5,825.3613,482.5,821.3613" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="89.5" x2="484.5" y1="821.3613" y2="821.3613"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="96.5" y="816.6191">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="118.5" y="816.6191">selects test parameter</text><polygon fill="#A80036" points="100.5,846.6719,90.5,850.6719,100.5,854.6719,96.5,850.6719" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="94.5" x2="494.5" y1="850.6719" y2="850.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="106.5" y="845.9297">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="219" x="128.5" y="845.9297">request the result value and metric</text><polygon fill="#A80036" points="478.5,875.9824,488.5,879.9824,478.5,883.9824,482.5,879.9824" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="89.5" x2="484.5" y1="879.9824" y2="879.9824"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="96.5" y="875.2402">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="118.5" y="875.2402">types requested data</text><polygon fill="#A80036" points="809.5,905.293,819.5,909.293,809.5,913.293,813.5,909.293" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="500.5" x2="815.5" y1="909.293" y2="909.293"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="507.5" y="904.5508">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="280" x="529.5" y="904.5508">addTestResult(parameterCode,result, metric)</text><polygon fill="#A80036" points="1361.5,934.6035,1371.5,938.6035,1361.5,942.6035,1365.5,938.6035" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="831.5" x2="1367.5" y1="938.6035" y2="938.6035"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="838.5" y="933.8613">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="352" x="860.5" y="933.8613">addTestResult(employee, parameterCode, result, metric)</text><rect fill="#FFFFFF" filter="url(#f129hktixn9cpb)" height="40.6211" style="stroke:#000000;stroke-width:2.0;" width="386" x="1333.5" y="971.6035"/><polygon fill="#EEEEEE" points="1333.5,971.6035,1397.5,971.6035,1397.5,978.6035,1387.5,988.6035,1333.5,988.6035,1333.5,971.6035" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="1346.5" y="986.1719">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="378" x="1339.5" y="1005.1719">SD_AddTestResult(employee, parameterCode, result, metric)</text><polygon fill="#A80036" points="842.5,1034.5352,832.5,1038.5352,842.5,1042.5352,838.5,1038.5352" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="836.5" x2="1377.5" y1="1038.5352" y2="1038.5352"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="848.5" y="1033.793">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="16" x="870.5" y="1033.793">ok</text><polygon fill="#A80036" points="511.5,1063.8457,501.5,1067.8457,511.5,1071.8457,507.5,1067.8457" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="505.5" x2="825.5" y1="1067.8457" y2="1067.8457"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="517.5" y="1063.1035">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="16" x="539.5" y="1063.1035">ok</text><polygon fill="#A80036" points="100.5,1093.1563,90.5,1097.1563,100.5,1101.1563,96.5,1097.1563" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="94.5" x2="494.5" y1="1097.1563" y2="1097.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="106.5" y="1092.4141">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="128.5" y="1092.4141">success</text><polygon fill="#A80036" points="478.5,1129.4668,488.5,1133.4668,478.5,1137.4668,482.5,1133.4668" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="89.5" x2="484.5" y1="1133.4668" y2="1133.4668"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="96.5" y="1128.7246">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="118.5" y="1128.7246">no more results</text><polygon fill="#A80036" points="809.5,1158.7773,819.5,1162.7773,809.5,1166.7773,813.5,1162.7773" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="500.5" x2="815.5" y1="1162.7773" y2="1162.7773"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="507.5" y="1158.0352">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174" x="529.5" y="1158.0352">getSummaryOfTestResults()</text><polygon fill="#A80036" points="1671.5,1188.0879,1681.5,1192.0879,1671.5,1196.0879,1675.5,1192.0879" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="831.5" x2="1677.5" y1="1192.0879" y2="1192.0879"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="838.5" y="1187.3457">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="860.5" y="1187.3457">toResultDto(test)</text><polygon fill="#A80036" points="842.5,1217.3984,832.5,1221.3984,842.5,1225.3984,838.5,1221.3984" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="836.5" x2="1687.5" y1="1221.3984" y2="1221.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="848.5" y="1216.6563">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="870.5" y="1216.6563">testResultsDto</text><polygon fill="#A80036" points="511.5,1246.709,501.5,1250.709,511.5,1254.709,507.5,1250.709" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="505.5" x2="825.5" y1="1250.709" y2="1250.709"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="517.5" y="1245.9668">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="539.5" y="1245.9668">testResultsDto</text><polygon fill="#A80036" points="100.5,1276.0195,90.5,1280.0195,100.5,1284.0195,96.5,1280.0195" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="94.5" x2="494.5" y1="1280.0195" y2="1280.0195"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="106.5" y="1275.2773">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="355" x="128.5" y="1275.2773">shows a summary of the test' results and ask to confirm</text><polygon fill="#A80036" points="478.5,1305.3301,488.5,1309.3301,478.5,1313.3301,482.5,1309.3301" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="89.5" x2="484.5" y1="1309.3301" y2="1309.3301"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="96.5" y="1304.5879">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="118.5" y="1304.5879">confirms</text><polygon fill="#A80036" points="809.5,1334.6406,819.5,1338.6406,809.5,1342.6406,813.5,1338.6406" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="500.5" x2="815.5" y1="1338.6406" y2="1338.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="507.5" y="1333.8984">32</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174" x="529.5" y="1333.8984">endsRecordingTestResults()</text><polygon fill="#A80036" points="1143.5,1363.9512,1153.5,1367.9512,1143.5,1371.9512,1147.5,1367.9512" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="831.5" x2="1149.5" y1="1367.9512" y2="1367.9512"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="838.5" y="1363.209">33</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="860.5" y="1363.209">update(test)</text><polygon fill="#A80036" points="842.5,1393.2617,832.5,1397.2617,842.5,1401.2617,838.5,1397.2617" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="836.5" x2="1159.5" y1="1397.2617" y2="1397.2617"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="848.5" y="1392.5195">34</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="16" x="870.5" y="1392.5195">ok</text><polygon fill="#A80036" points="511.5,1422.5723,501.5,1426.5723,511.5,1430.5723,507.5,1426.5723" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="505.5" x2="825.5" y1="1426.5723" y2="1426.5723"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="517.5" y="1421.8301">35</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="16" x="539.5" y="1421.8301">ok</text><polygon fill="#A80036" points="95.5,1451.8828,85.5,1455.8828,95.5,1459.8828,91.5,1455.8828" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="89.5" x2="494.5" y1="1455.8828" y2="1455.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="101.5" y="1451.1406">36</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="123.5" y="1451.1406">informs success</text><!--MD5=[08af1e6c7bbc15fd98361e4d87b94236]
@startuml
autonumber
autoactivate on

actor "Clinical Chemistry\nTechnologist" as USER
participant ": RecordTest\nResultUI" as UI
participant ": RecordTest\nResultController" as CTRL
participant " : Company" as COMP
participant "tStore : TestStore" as STORE
participant "test : Test" as TEST
participant "tMapper : TestMapper" as MAPPER
participant "testDto : TestDto" as TEST_DTO
participant "testResultsDto : TestResultsDto" as TEST_RESULT_DTO



activate USER

USER -> UI: starts recording result for a test
UI -> CTRL: startsRecordingTestResults()
ref over CTRL
  SD_GET_EMPLOYEE_OF_CURRENT_USER
  (Controller gets an **employee** object)
end ref
CTRL -> COMP: getTestStore()
COMP- -> CTRL: tStore

CTRL - -> UI: ok

UI - -> USER: asks to type/read the barcode \nof any sample of the target test


USER -> UI: types/read the barcode
UI -> CTRL:  getTestByBarcode(barcode)

CTRL -> STORE: getTestByBarcodeWithPendingResults(barcode)
ref over STORE
SD_GET_TEST_BY_BARCODE_WITH_PENDING_RESULTS
end ref
STORE - -> CTRL: test

CTRL -> MAPPER: toDto(test)
MAPPER - -> CTRL: testDto

CTRL - -> UI : testDto
UI - -> USER: shows the test corresponding to \nthe inputted barcode/sample \n and asks confirmation to proceed


USER -> UI : want to proceed
note right UI: information already available on the testDto

loop for each test parameter being analysed
UI - -> USER: shows the tests parameters with no results yet

USER -> UI: selects test parameter
UI - -> USER: request the result value and metric
USER ->UI: types requested data

UI -> CTRL: addTestResult(parameterCode,result, metric)

CTRL -> TEST: addTestResult(employee, parameterCode, result, metric)
|||
ref over TEST: SD_AddTestResult(employee, parameterCode, result, metric)

TEST - -> CTRL: ok
CTRL - ->UI: ok
UI- ->USER: success
end loop

USER -> UI: no more results
UI -> CTRL: getSummaryOfTestResults()
CTRL -> MAPPER: toResultDto(test)
MAPPER - -> CTRL: testResultsDto
CTRL - ->UI: testResultsDto
UI - -> USER: shows a summary of the test' results and ask to confirm

USER -> UI: confirms

UI -> CTRL: endsRecordingTestResults()

CTRL -> STORE: update(test)
STORE - -> CTRL: ok
CTRL - -> UI: ok
UI - -> USER : informs success

deactivate USER

@enduml

PlantUML version 1.2021.5(Sun Apr 25 12:20:28 WEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: Dynamic Code Evolution 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: PT
--></g></svg>