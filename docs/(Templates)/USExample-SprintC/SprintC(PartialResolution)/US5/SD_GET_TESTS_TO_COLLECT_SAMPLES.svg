<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="694px" preserveAspectRatio="none" style="width:1458px;height:694px;" version="1.1" viewBox="0 0 1458 694" width="1458px" zoomAndPan="magnify"><defs><filter height="300%" id="f1jqk46yac7osp" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="352" x="551.25" y="29.4023">SD_GET_TESTS_TO_COLLECT_SAMPLES</text><rect fill="#FFFFFF" filter="url(#f1jqk46yac7osp)" height="533.9043" style="stroke:#A80036;stroke-width:1.0;" width="10" x="338" y="106.998"/><rect fill="#FFFFFF" filter="url(#f1jqk46yac7osp)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="496" y="574.9023"/><rect fill="#FFFFFF" filter="url(#f1jqk46yac7osp)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="665" y="206.1074"/><rect fill="#FFFFFF" filter="url(#f1jqk46yac7osp)" height="59.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="804" y="265.418"/><rect fill="#FFFFFF" filter="url(#f1jqk46yac7osp)" height="59.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="804" y="378.3496"/><rect fill="#FFFFFF" filter="url(#f1jqk46yac7osp)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="804" y="491.2813"/><rect fill="#FFFFFF" filter="url(#f1jqk46yac7osp)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1006" y="294.7285"/><rect fill="#FFFFFF" filter="url(#f1jqk46yac7osp)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1321.5" y="407.6602"/><rect fill="#FFFFFF" filter="url(#f1jqk46yac7osp)" height="466.416" style="stroke:#000000;stroke-width:2.0;" width="1207.5" x="237" y="167.4863"/><rect fill="#FFFFFF" filter="url(#f1jqk46yac7osp)" height="287.1738" style="stroke:#000000;stroke-width:2.0;" width="1187.5" x="247" y="339.7285"/><rect fill="#FFFFFF" filter="url(#f1jqk46yac7osp)" height="167.2422" style="stroke:#000000;stroke-width:2.0;" width="602" x="257" y="452.6602"/><rect fill="#FFFFFF" filter="url(#f1jqk46yac7osp)" height="76.6211" style="stroke:#000000;stroke-width:2.0;" width="314" x="267" y="536.2813"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="343" x2="343" y1="75.6875" y2="650.9023"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="501" x2="501" y1="147.7422" y2="650.9023"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="670" x2="670" y1="75.6875" y2="650.9023"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="809" x2="809" y1="75.6875" y2="650.9023"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1010.5" x2="1010.5" y1="75.6875" y2="650.9023"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1148.5" x2="1148.5" y1="75.6875" y2="650.9023"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1326.5" x2="1326.5" y1="75.6875" y2="650.9023"/><rect fill="#FEFECE" filter="url(#f1jqk46yac7osp)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="128" x="277" y="40.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="284" y="60.7344">tStore: TestStore</text><rect fill="#FEFECE" filter="url(#f1jqk46yac7osp)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="128" x="277" y="649.9023"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="284" y="670.4375">tStore: TestStore</text><rect fill="#FEFECE" filter="url(#f1jqk46yac7osp)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="136" x="431" y="649.9023"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="438" y="670.4375">lTests: List&lt;Test&gt;</text><rect fill="#FEFECE" filter="url(#f1jqk46yac7osp)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="174" x="581" y="40.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160" x="588" y="60.7344">lKnowTests: List&lt;Test&gt;</text><rect fill="#FEFECE" filter="url(#f1jqk46yac7osp)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="174" x="581" y="649.9023"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160" x="588" y="670.4375">lKnowTests: List&lt;Test&gt;</text><rect fill="#FEFECE" filter="url(#f1jqk46yac7osp)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="76" x="769" y="40.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="776" y="60.7344">test: Test</text><rect fill="#FEFECE" filter="url(#f1jqk46yac7osp)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="76" x="769" y="649.9023"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="776" y="670.4375">test: Test</text><rect fill="#FEFECE" filter="url(#f1jqk46yac7osp)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="113" x="952.5" y="40.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="959.5" y="60.7344">type: TestType</text><rect fill="#FEFECE" filter="url(#f1jqk46yac7osp)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="113" x="952.5" y="649.9023"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="959.5" y="670.4375">type: TestType</text><rect fill="#FEFECE" filter="url(#f1jqk46yac7osp)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="135" x="1079.5" y="40.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121" x="1086.5" y="60.7344">cal: CALaboratory</text><rect fill="#FEFECE" filter="url(#f1jqk46yac7osp)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="135" x="1079.5" y="649.9023"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121" x="1086.5" y="670.4375">cal: CALaboratory</text><rect fill="#FEFECE" filter="url(#f1jqk46yac7osp)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="192" x="1228.5" y="40.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178" x="1235.5" y="60.7344">anotherCal: CALaboratory</text><rect fill="#FEFECE" filter="url(#f1jqk46yac7osp)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="192" x="1228.5" y="649.9023"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178" x="1235.5" y="670.4375">anotherCal: CALaboratory</text><rect fill="#FFFFFF" filter="url(#f1jqk46yac7osp)" height="533.9043" style="stroke:#A80036;stroke-width:1.0;" width="10" x="338" y="106.998"/><rect fill="#FFFFFF" filter="url(#f1jqk46yac7osp)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="496" y="574.9023"/><rect fill="#FFFFFF" filter="url(#f1jqk46yac7osp)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="665" y="206.1074"/><rect fill="#FFFFFF" filter="url(#f1jqk46yac7osp)" height="59.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="804" y="265.418"/><rect fill="#FFFFFF" filter="url(#f1jqk46yac7osp)" height="59.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="804" y="378.3496"/><rect fill="#FFFFFF" filter="url(#f1jqk46yac7osp)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="804" y="491.2813"/><rect fill="#FFFFFF" filter="url(#f1jqk46yac7osp)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1006" y="294.7285"/><rect fill="#FFFFFF" filter="url(#f1jqk46yac7osp)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1321.5" y="407.6602"/><ellipse cx="7.5" cy="106.248" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;fill:none;"/><polygon fill="#A80036" points="326,102.998,336,106.998,326,110.998,330,106.998" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="12" x2="332" y1="106.998" y2="106.998"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="15" y="102.2559">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="298" x="28" y="102.2559">lTests = getTestsToCollectSamples(cal, ttCode)</text><polygon fill="#A80036" points="419,132.3086,429,136.3086,419,140.3086,423,136.3086" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="348" x2="425" y1="136.3086" y2="136.3086"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="355" y="131.5664">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="368" y="131.5664">create()</text><rect fill="#FEFECE" filter="url(#f1jqk46yac7osp)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="136" x="431" y="114.998"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="438" y="135.5332">lTests: List&lt;Test&gt;</text><path d="M237,167.4863 L311,167.4863 L311,174.4863 L301,184.4863 L237,184.4863 L237,167.4863 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="466.416" style="stroke:#000000;stroke-width:2.0;" width="1207.5" x="237" y="167.4863"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29" x="252" y="181.0547">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="204" x="326" y="180.1211">[for each know test (in lKnowTests)]</text><polygon fill="#A80036" points="653,202.1074,663,206.1074,653,210.1074,657,206.1074" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="348" x2="659" y1="206.1074" y2="206.1074"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="355" y="201.3652">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="368" y="201.3652">test = getNext()</text><polygon fill="#A80036" points="792,261.418,802,265.418,792,269.418,796,265.418" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="348" x2="798" y1="265.418" y2="265.418"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="355" y="260.6758">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="368" y="260.6758">bType = isOfType(ttCode)</text><polygon fill="#A80036" points="994,290.7285,1004,294.7285,994,298.7285,998,294.7285" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="814" x2="1000" y1="294.7285" y2="294.7285"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="821" y="289.9863">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="834" y="289.9863">bType = hasCode(ttCode)</text><path d="M247,339.7285 L314,339.7285 L314,346.7285 L304,356.7285 L247,356.7285 L247,339.7285 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="287.1738" style="stroke:#000000;stroke-width:2.0;" width="1187.5" x="247" y="339.7285"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="262" y="353.2969">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="90" x="329" y="352.3633">[bType == true]</text><polygon fill="#A80036" points="792,374.3496,802,378.3496,792,382.3496,796,378.3496" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="348" x2="798" y1="378.3496" y2="378.3496"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="355" y="373.6074">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="368" y="373.6074">bLab = requestedOn(cal)</text><polygon fill="#A80036" points="1309.5,403.6602,1319.5,407.6602,1309.5,411.6602,1313.5,407.6602" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="814" x2="1315.5" y1="407.6602" y2="407.6602"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="821" y="402.918">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="834" y="402.918">bLab = equals(cal)</text><path d="M257,452.6602 L324,452.6602 L324,459.6602 L314,469.6602 L257,469.6602 L257,452.6602 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="167.2422" style="stroke:#000000;stroke-width:2.0;" width="602" x="257" y="452.6602"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="272" y="466.2285">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="82" x="339" y="465.2949">[bLab == true]</text><polygon fill="#A80036" points="792,487.2813,802,491.2813,792,495.2813,796,491.2813" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="348" x2="798" y1="491.2813" y2="491.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="355" y="486.5391">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218" x="368" y="486.5391">bSamples = samplesAreCollected()</text><path d="M267,536.2813 L334,536.2813 L334,543.2813 L324,553.2813 L267,553.2813 L267,536.2813 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="76.6211" style="stroke:#000000;stroke-width:2.0;" width="314" x="267" y="536.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="282" y="549.8496">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="114" x="349" y="548.916">[bSamples == false]</text><polygon fill="#A80036" points="484,570.9023,494,574.9023,484,578.9023,488,574.9023" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="348" x2="490" y1="574.9023" y2="574.9023"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="355" y="570.1602">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55" x="368" y="570.1602">add(test)</text><!--MD5=[dee9d1c62605436928a452e5d8a5a0e2]
@startuml
title
**__SD_GET_TESTS_TO_COLLECT_SAMPLES__**
end title
autonumber
participant "tStore: TestStore" as T_STORE
participant "lTests: List<Test>" as LIST_TEST
participant "lKnowTests: List<Test>" as LIST_KNOWN_TEST
participant "test: Test" as TEST
participant "type: TestType" as TEST_TYPE
participant "cal: CALaboratory" as CAL
participant "anotherCal: CALaboratory" as ANOTHER_CAL


[o-> T_STORE: lTests = getTestsToCollectSamples(cal, ttCode)
activate T_STORE
T_STORE -> LIST_TEST**: create()
loop for each know test (in lKnowTests)
T_STORE -> LIST_KNOWN_TEST: test = getNext()
activate LIST_KNOWN_TEST
deactivate LIST_KNOWN_TEST

T_STORE -> TEST : bType = isOfType(ttCode)
activate TEST
TEST -> TEST_TYPE: bType = hasCode(ttCode)
activate TEST_TYPE
deactivate TEST_TYPE
deactivate TEST
opt  bType == true

T_STORE -> TEST: bLab = requestedOn(cal)
activate TEST
TEST -> ANOTHER_CAL: bLab = equals(cal)
activate ANOTHER_CAL
deactivate ANOTHER_CAL
deactivate TEST

opt bLab == true

T_STORE -> TEST: bSamples = samplesAreCollected()
activate TEST
deactivate TEST
opt bSamples == false
T_STORE -> LIST_TEST: add(test)
activate LIST_TEST
deactivate LIST_TEST
end opt
end opt
end opt
end loop
deactivate T_STORE
@enduml

PlantUML version 1.2021.5(Sun Apr 25 12:20:28 WEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: Dynamic Code Evolution 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: PT
--></g></svg>