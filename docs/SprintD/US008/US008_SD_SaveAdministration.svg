<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="745px" preserveAspectRatio="none" style="width:1891px;height:745px;background:#FFFFFF;" version="1.1" viewBox="0 0 1891 745" width="1891px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="594.3125" style="stroke:#181818;stroke-width:1.0;" width="10" x="212" y="87.5703"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="217" y="125.9219"/><rect fill="#FFFFFF" height="209.8516" style="stroke:#181818;stroke-width:1.0;" width="10" x="217" y="284.9766"/><rect fill="#FFFFFF" height="125.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="217" y="540.1797"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="562" y="216.625"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="562" y="575.5313"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="562" y="635.8828"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="723" y="345.6797"/><rect fill="#FFFFFF" height="60.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="723" y="434.4766"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1470.5" y="464.8281"/><rect height="497.9609" style="stroke:#000000;stroke-width:1.5;fill:none;" width="1498" x="61" y="175.9219"/><rect height="197.8516" style="stroke:#000000;stroke-width:1.5;fill:none;" width="1478" x="71" y="304.9766"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="217" x2="217" y1="55.2188" y2="690.8828"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="433" x2="433" y1="55.2188" y2="690.8828"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="567" x2="567" y1="55.2188" y2="690.8828"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="728" x2="728" y1="55.2188" y2="690.8828"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="850" x2="850" y1="55.2188" y2="690.8828"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1033" x2="1033" y1="55.2188" y2="690.8828"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1201" x2="1201" y1="55.2188" y2="690.8828"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1323" x2="1323" y1="55.2188" y2="690.8828"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1475" x2="1475" y1="384.9844" y2="690.8828"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1662" x2="1662" y1="55.2188" y2="690.8828"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1835" x2="1835" y1="55.2188" y2="690.8828"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="272" x="81" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="258" x="88" y="44.1426">:RegisterVaccineAdministrationController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="272" x="81" y="689.8828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="258" x="88" y="711.416">:RegisterVaccineAdministrationController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="74" x="396" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="403" y="44.1426">Company</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="74" x="396" y="689.8828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="403" y="711.416">Company</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="174" x="480" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160" x="487" y="44.1426">facility:VaccinationFacility</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="174" x="480" y="689.8828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160" x="487" y="711.416">facility:VaccinationFacility</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="664" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="671" y="44.1426">snsUser:SNS user</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="664" y="689.8828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="671" y="711.416">snsUser:SNS user</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97" x="802" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="809" y="44.1426">arrival:Arrival</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97" x="802" y="689.8828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="809" y="711.416">arrival:Arrival</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="248" x="909" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="234" x="916" y="44.1426">appointment:VaccinationAppointment</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="248" x="909" y="689.8828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="234" x="916" y="711.416">appointment:VaccinationAppointment</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="68" x="1167" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54" x="1174" y="44.1426">:Vaccine</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="68" x="1167" y="689.8828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54" x="1174" y="711.416">:Vaccine</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="157" x="1245" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143" x="1252" y="44.1426">:VaccineAdministration</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="157" x="1245" y="689.8828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143" x="1252" y="711.416">:VaccineAdministration</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="127" x="1412" y="689.8828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="1419" y="711.416">card:VaccineCard</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="226" x="1549" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="1619.5" y="26.5332">adminstration</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="212" x="1556" y="44.1426">:VaccinationAdministrationRecord</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="226" x="1549" y="689.8828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="1619.5" y="711.416">adminstration</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="212" x="1556" y="729.0254">:VaccinationAdministrationRecord</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="100" x="1785" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="1792" y="44.1426">:TypeVaccine</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="100" x="1785" y="689.8828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="1792" y="711.416">:TypeVaccine</text><rect fill="#FFFFFF" height="594.3125" style="stroke:#181818;stroke-width:1.0;" width="10" x="212" y="87.5703"/><rect fill="#FFFFFF" height="28" style="stroke:#181818;stroke-width:1.0;" width="10" x="217" y="125.9219"/><rect fill="#FFFFFF" height="209.8516" style="stroke:#181818;stroke-width:1.0;" width="10" x="217" y="284.9766"/><rect fill="#FFFFFF" height="125.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="217" y="540.1797"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="562" y="216.625"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="562" y="575.5313"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="562" y="635.8828"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="723" y="345.6797"/><rect fill="#FFFFFF" height="60.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="723" y="434.4766"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1470.5" y="464.8281"/><polygon fill="#181818" points="200,83.5703,210,87.5703,200,91.5703,204,87.5703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="0" x2="206" y1="87.5703" y2="87.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="7" y="82.7139">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182" x="18" y="82.7139">saveVaccinationAdminstration()</text><line style="stroke:#181818;stroke-width:1.0;" x1="227" x2="269" y1="117.9219" y2="117.9219"/><line style="stroke:#181818;stroke-width:1.0;" x1="269" x2="269" y1="117.9219" y2="130.9219"/><line style="stroke:#181818;stroke-width:1.0;" x1="228" x2="269" y1="130.9219" y2="130.9219"/><polygon fill="#181818" points="238,126.9219,228,130.9219,238,134.9219,234,130.9219" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="234" y="113.0654">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="245" y="113.0654">validateVaccineAdministration()</text><path d="M61,175.9219 L126,175.9219 L126,184.2734 L116,194.2734 L61,194.2734 L61,175.9219 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="497.9609" style="stroke:#000000;stroke-width:1.5;" width="1498" x="61" y="175.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="20" x="76" y="190.417">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="196" x="141" y="189.3408">[if  vaccination appointment is valid]</text><polygon fill="#181818" points="550,212.625,560,216.625,550,220.625,554,216.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="222" x2="556" y1="216.625" y2="216.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="229" y="211.7686">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="254" x="240" y="211.7686">addVaccinationAdminstrationRecord(record)</text><line style="stroke:#181818;stroke-width:1.0;" x1="222" x2="269" y1="271.9766" y2="271.9766"/><line style="stroke:#181818;stroke-width:1.0;" x1="269" x2="269" y1="271.9766" y2="284.9766"/><line style="stroke:#181818;stroke-width:1.0;" x1="228" x2="269" y1="284.9766" y2="284.9766"/><polygon fill="#181818" points="238,280.9766,228,284.9766,238,288.9766,234,284.9766" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="234" y="267.1201">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="245" y="267.1201">updateVaccineCard()</text><path d="M71,304.9766 L132,304.9766 L132,313.3281 L122,323.3281 L71,323.3281 L71,304.9766 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="197.8516" style="stroke:#000000;stroke-width:1.5;" width="1478" x="71" y="304.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="86" y="319.4717">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="279" x="147" y="318.3955">[if it's SNS user first administration of this vaccine]</text><polygon fill="#181818" points="711,341.6797,721,345.6797,711,349.6797,715,345.6797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="227" x2="717" y1="345.6797" y2="345.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="234" y="340.8232">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="320" x="245" y="340.8232">updateVaccinationRecord(vaccine,  administraitonTime)</text><polygon fill="#181818" points="1400,372.0313,1410,376.0313,1400,380.0313,1404,376.0313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="728" x2="1406" y1="376.0313" y2="376.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="735" y="371.1748">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="392" x="746" y="371.1748">card=createVaccineCard(vaccine,  administrationTime,numberDose)</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="127" x="1412" y="353.6797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="1419" y="375.2129">card:VaccineCard</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="71" x2="1549" y1="397.2891" y2="397.2891"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="300" x="76" y="408.708">[if it's not SNS user first administration of this vaccine]</text><polygon fill="#181818" points="711,430.4766,721,434.4766,711,438.4766,715,434.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="227" x2="717" y1="434.4766" y2="434.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="234" y="429.6201">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="320" x="245" y="429.6201">updateVaccinationRecord(vaccine,  administraitonTime)</text><polygon fill="#181818" points="1458.5,460.8281,1468.5,464.8281,1458.5,468.8281,1462.5,464.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="733" x2="1464.5" y1="464.8281" y2="464.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="740" y="459.9717">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="751" y="459.9717">updateNumberDosesTaken();</text><line style="stroke:#181818;stroke-width:1.0;" x1="222" x2="269" y1="527.1797" y2="527.1797"/><line style="stroke:#181818;stroke-width:1.0;" x1="269" x2="269" y1="527.1797" y2="540.1797"/><line style="stroke:#181818;stroke-width:1.0;" x1="228" x2="269" y1="540.1797" y2="540.1797"/><polygon fill="#181818" points="238,536.1797,228,540.1797,238,544.1797,234,540.1797" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="234" y="522.3232">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="245" y="522.3232">deleteAppoiment()</text><polygon fill="#181818" points="550,571.5313,560,575.5313,550,579.5313,554,575.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="227" x2="556" y1="575.5313" y2="575.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="234" y="570.6748">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="293" x="252" y="570.6748">getVaccinationScheduleList().remove(appointment)</text><polygon fill="#181818" points="550,631.8828,560,635.8828,550,639.8828,554,635.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="227" x2="556" y1="635.8828" y2="635.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="234" y="631.0264">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177" x="252" y="631.0264">getWaitingList().remove(arrival)</text><!--MD5=[6f5763dec3d0abf74706657d173a61cf]
@startuml
'https://plantuml.com/sequence-diagram


participant ":RegisterVaccineAdministrationController" as  CTRL
participant "Company" as COMP
participant "facility:VaccinationFacility" as facility
participant "snsUser:SNS user" as user
participant "arrival:Arrival" as arrival
participant "appointment:VaccinationAppointment" as appointment
participant ":Vaccine" as vaccine
participant ":VaccineAdministration" as administration
participant "card:VaccineCard" as card
participant "adminstration\n:VaccinationAdministrationRecord" as record
participant ":TypeVaccine" as type

autonumber

->CTRL:saveVaccinationAdminstration()
activate CTRL
CTRL->CTRL:validateVaccineAdministration()
activate CTRL
deactivate CTRL
opt if  vaccination appointment is valid

CTRL->facility:addVaccinationAdminstrationRecord(record)
activate facility
deactivate facility
CTRL->CTRL:updateVaccineCard()
alt if it's SNS user first administration of this vaccine
activate CTRL
CTRL->user:updateVaccinationRecord(vaccine,  administraitonTime)
activate user
create card
user->card: card=createVaccineCard(vaccine,  administrationTime,numberDose)
deactivate user
else if it's not SNS user first administration of this vaccine
CTRL->user:updateVaccinationRecord(vaccine,  administraitonTime)
activate user
user->card: updateNumberDosesTaken();
activate card
deactivate card
deactivate user
deactivate CTRL
end
CTRL->CTRL:deleteAppoiment()
activate CTRL
CTRL->facility:getVaccinationScheduleList().remove(appointment)
activate facility
deactivate facility
CTRL->facility:  getWaitingList().remove(arrival)
activate facility
deactivate facility
deactivate CTRL
end
@enduml

@startuml


participant ":RegisterVaccineAdministrationController" as  CTRL
participant "Company" as COMP
participant "facility:VaccinationFacility" as facility
participant "snsUser:SNS user" as user
participant "arrival:Arrival" as arrival
participant "appointment:VaccinationAppointment" as appointment
participant ":Vaccine" as vaccine
participant ":VaccineAdministration" as administration
participant "card:VaccineCard" as card
participant "adminstration\n:VaccinationAdministrationRecord" as record
participant ":TypeVaccine" as type

autonumber

->CTRL:saveVaccinationAdminstration()
activate CTRL
CTRL->CTRL:validateVaccineAdministration()
activate CTRL
deactivate CTRL
opt if  vaccination appointment is valid

CTRL->facility:addVaccinationAdminstrationRecord(record)
activate facility
deactivate facility
CTRL->CTRL:updateVaccineCard()
alt if it's SNS user first administration of this vaccine
activate CTRL
CTRL->user:updateVaccinationRecord(vaccine,  administraitonTime)
activate user
create card
user->card: card=createVaccineCard(vaccine,  administrationTime,numberDose)
deactivate user
else if it's not SNS user first administration of this vaccine
CTRL->user:updateVaccinationRecord(vaccine,  administraitonTime)
activate user
user->card: updateNumberDosesTaken();
activate card
deactivate card
deactivate user
deactivate CTRL
end
CTRL->CTRL:deleteAppoiment()
activate CTRL
CTRL->facility:getVaccinationScheduleList().remove(appointment)
activate facility
deactivate facility
CTRL->facility:  getWaitingList().remove(arrival)
activate facility
deactivate facility
deactivate CTRL
end
@enduml

PlantUML version 1.2022.5(Sat Apr 30 11:55:52 BST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>